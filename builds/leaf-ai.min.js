leaf.ai={PatternList:new leaf.List,respond:function(a,b,c){function d(b){if(leaf.isString(b.get("pattern")))return a.indexOf(g(b.get("pattern")))!=-1;if(leaf.isArray(b.get("pattern")))for(var c=0;c<b.get("pattern").length;c++)if(a.indexOf(g(b.get("pattern")[c]))!=-1)return!0;return!1}function e(a){var b="",c="",d="";return leaf.isDefined(a.get("header"))&&leaf.isString(a.get("header"))&&(b=a.get("header")),leaf.isDefined(a.get("header"))&&leaf.isArray(a.get("header"))&&(b=f(a.get("header"))),leaf.isDefined(a.get("content"))&&leaf.isString(a.get("content"))&&(c=a.get("content")),leaf.isDefined(a.get("content"))&&leaf.isArray(a.get("content"))&&(c=f(a.get("content"))),leaf.isDefined(a.get("footer"))&&leaf.isString(a.get("footer"))&&(d=a.get("footer")),leaf.isDefined(a.get("footer"))&&leaf.isArray(a.get("footer"))&&(d=f(a.get("footer"))),b+c+d}function f(a){return a[Math.floor(Math.random()*a.length)]}function g(a){return a.toLowerCase().replace(/[^\w\s]|_/g,"").replace(/\s+/g," ")}var h;a=g(a),this.PatternList.each(function(a){d(a)===!0&&(h=a)}),leaf.isDefined(h)?b(e(h),h):c()}};