leaf.ai={PatternList:new leaf.List,TopicList:void 0,chat:function(a,b,c){function d(a){return a.replace(/[^a-z0-9*]/gi,"").toLowerCase()}function e(a){return a[Math.floor(Math.random()*a.length)]}function f(a){var b="";return leaf.isDefined(a.get("header"))&&(b+=e(a.get("header"))+" "),leaf.isDefined(a.get("content"))&&(b+=e(a.get("content"))+" "),leaf.isDefined(a.get("footer"))&&(b+=e(a.get("footer"))),b}function g(a,b){return a=d(a),b=d(b),new RegExp("^"+a.split("*").join(".*")+"$").test(b)}function h(b){var c;return b.each(function(b){b.get("pattern").forEach(function(d){g(d,a)&&leaf.isUndefined(c)&&(c=b)})}),c}var i;return i=h(leaf.isUndefined(this.TopicList)?this.PatternList:this.TopicList),leaf.isDefined(i)?leaf.isFunction(b)&&(this.TopicList=new leaf.List(i.get("topic"))||void 0,b(f(i),i)):leaf.isFunction(c)&&c(),a}};